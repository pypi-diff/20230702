# Comparing `tmp/canarypy-0.0.12-py3-none-any.whl.zip` & `tmp/canarypy-0.0.13-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,47 +1,47 @@
-Zip file size: 25301 bytes, number of entries: 45
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/__init__.py
--rw-r--r--  2.0 unx     2163 b- defN 23-Jul-01 11:14 canarypy/client.py
--rw-r--r--  2.0 unx       22 b- defN 23-Jul-01 11:14 canarypy/api/__init__.py
--rw-r--r--  2.0 unx      539 b- defN 23-Jul-01 11:14 canarypy/api/config.py
--rw-r--r--  2.0 unx      558 b- defN 23-Jul-01 11:14 canarypy/api/main.py
--rw-r--r--  2.0 unx      561 b- defN 23-Jul-01 11:14 canarypy/api/run.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/api/db/__init__.py
--rw-r--r--  2.0 unx      370 b- defN 23-Jul-01 11:14 canarypy/api/db/base.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/api/dependencies/__init__.py
--rw-r--r--  2.0 unx      305 b- defN 23-Jul-01 11:14 canarypy/api/dependencies/db.py
--rw-r--r--  2.0 unx       85 b- defN 23-Jul-01 11:14 canarypy/api/models/__init__.py
--rw-r--r--  2.0 unx      621 b- defN 23-Jul-01 11:14 canarypy/api/models/product.py
--rw-r--r--  2.0 unx     4593 b- defN 23-Jul-01 11:14 canarypy/api/models/release.py
--rw-r--r--  2.0 unx     1055 b- defN 23-Jul-01 11:14 canarypy/api/models/signal.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/api/routes/__init__.py
--rw-r--r--  2.0 unx     2185 b- defN 23-Jul-01 11:14 canarypy/api/routes/product.py
--rw-r--r--  2.0 unx     1726 b- defN 23-Jul-01 11:14 canarypy/api/routes/release.py
--rw-r--r--  2.0 unx     1028 b- defN 23-Jul-01 11:14 canarypy/api/routes/signal.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/api/schemas/__init__.py
--rw-r--r--  2.0 unx       77 b- defN 23-Jul-01 11:14 canarypy/api/schemas/httperror.py
--rw-r--r--  2.0 unx      249 b- defN 23-Jul-01 11:14 canarypy/api/schemas/product.py
--rw-r--r--  2.0 unx      764 b- defN 23-Jul-01 11:14 canarypy/api/schemas/release.py
--rw-r--r--  2.0 unx      292 b- defN 23-Jul-01 11:14 canarypy/api/schemas/signal.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/api/services/__init__.py
--rw-r--r--  2.0 unx     1592 b- defN 23-Jul-01 11:14 canarypy/api/services/product.py
--rw-r--r--  2.0 unx    10088 b- defN 23-Jul-01 11:14 canarypy/api/services/release.py
--rw-r--r--  2.0 unx     3680 b- defN 23-Jul-01 11:14 canarypy/api/services/signal.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/cli/__init__.py
--rw-r--r--  2.0 unx     2708 b- defN 23-Jul-01 11:14 canarypy/cli/main.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/cli/services/__init__.py
--rw-r--r--  2.0 unx     1047 b- defN 23-Jul-01 11:14 canarypy/cli/services/product.py
--rw-r--r--  2.0 unx     1557 b- defN 23-Jul-01 11:14 canarypy/cli/services/release.py
--rw-r--r--  2.0 unx      875 b- defN 23-Jul-01 11:14 canarypy/cli/services/signal.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/web/__init__.py
--rw-r--r--  2.0 unx      485 b- defN 23-Jul-01 11:14 canarypy/web/app.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/web/services/__init__.py
--rw-r--r--  2.0 unx     2479 b- defN 23-Jul-01 11:14 canarypy/web/services/release.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-01 11:14 canarypy/web/views/__init__.py
--rw-r--r--  2.0 unx     6145 b- defN 23-Jul-01 11:14 canarypy/web/views/release.py
--rw-r--r--  2.0 unx     1073 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/LICENSE
--rw-r--r--  2.0 unx     9507 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/WHEEL
--rw-r--r--  2.0 unx       70 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3771 b- defN 23-Jul-01 11:14 canarypy-0.0.12.dist-info/RECORD
-45 files, 62371 bytes uncompressed, 19227 bytes compressed:  69.2%
+Zip file size: 25325 bytes, number of entries: 45
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/__init__.py
+-rw-r--r--  2.0 unx     2163 b- defN 23-Jul-02 18:37 canarypy/client.py
+-rw-r--r--  2.0 unx       22 b- defN 23-Jul-02 18:37 canarypy/api/__init__.py
+-rw-r--r--  2.0 unx      539 b- defN 23-Jul-02 18:37 canarypy/api/config.py
+-rw-r--r--  2.0 unx      558 b- defN 23-Jul-02 18:37 canarypy/api/main.py
+-rw-r--r--  2.0 unx      561 b- defN 23-Jul-02 18:37 canarypy/api/run.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/api/db/__init__.py
+-rw-r--r--  2.0 unx      370 b- defN 23-Jul-02 18:37 canarypy/api/db/base.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/api/dependencies/__init__.py
+-rw-r--r--  2.0 unx      305 b- defN 23-Jul-02 18:37 canarypy/api/dependencies/db.py
+-rw-r--r--  2.0 unx       85 b- defN 23-Jul-02 18:37 canarypy/api/models/__init__.py
+-rw-r--r--  2.0 unx      621 b- defN 23-Jul-02 18:37 canarypy/api/models/product.py
+-rw-r--r--  2.0 unx     4593 b- defN 23-Jul-02 18:37 canarypy/api/models/release.py
+-rw-r--r--  2.0 unx     1055 b- defN 23-Jul-02 18:37 canarypy/api/models/signal.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/api/routes/__init__.py
+-rw-r--r--  2.0 unx     2185 b- defN 23-Jul-02 18:37 canarypy/api/routes/product.py
+-rw-r--r--  2.0 unx     1726 b- defN 23-Jul-02 18:37 canarypy/api/routes/release.py
+-rw-r--r--  2.0 unx     1028 b- defN 23-Jul-02 18:37 canarypy/api/routes/signal.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/api/schemas/__init__.py
+-rw-r--r--  2.0 unx       77 b- defN 23-Jul-02 18:37 canarypy/api/schemas/httperror.py
+-rw-r--r--  2.0 unx      249 b- defN 23-Jul-02 18:37 canarypy/api/schemas/product.py
+-rw-r--r--  2.0 unx      764 b- defN 23-Jul-02 18:37 canarypy/api/schemas/release.py
+-rw-r--r--  2.0 unx      292 b- defN 23-Jul-02 18:37 canarypy/api/schemas/signal.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/api/services/__init__.py
+-rw-r--r--  2.0 unx     1592 b- defN 23-Jul-02 18:37 canarypy/api/services/product.py
+-rw-r--r--  2.0 unx    10214 b- defN 23-Jul-02 18:37 canarypy/api/services/release.py
+-rw-r--r--  2.0 unx     3680 b- defN 23-Jul-02 18:37 canarypy/api/services/signal.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/cli/__init__.py
+-rw-r--r--  2.0 unx     2708 b- defN 23-Jul-02 18:37 canarypy/cli/main.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/cli/services/__init__.py
+-rw-r--r--  2.0 unx     1047 b- defN 23-Jul-02 18:37 canarypy/cli/services/product.py
+-rw-r--r--  2.0 unx     1557 b- defN 23-Jul-02 18:37 canarypy/cli/services/release.py
+-rw-r--r--  2.0 unx      875 b- defN 23-Jul-02 18:37 canarypy/cli/services/signal.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/web/__init__.py
+-rw-r--r--  2.0 unx      485 b- defN 23-Jul-02 18:37 canarypy/web/app.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/web/services/__init__.py
+-rw-r--r--  2.0 unx     2479 b- defN 23-Jul-02 18:37 canarypy/web/services/release.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 18:37 canarypy/web/views/__init__.py
+-rw-r--r--  2.0 unx     6145 b- defN 23-Jul-02 18:37 canarypy/web/views/release.py
+-rw-r--r--  2.0 unx     1073 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/LICENSE
+-rw-r--r--  2.0 unx     9507 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/WHEEL
+-rw-r--r--  2.0 unx       70 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3771 b- defN 23-Jul-02 18:37 canarypy-0.0.13.dist-info/RECORD
+45 files, 62497 bytes uncompressed, 19251 bytes compressed:  69.2%
```

## zipnote {}

```diff
@@ -111,26 +111,26 @@
 
 Filename: canarypy/web/views/__init__.py
 Comment: 
 
 Filename: canarypy/web/views/release.py
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/LICENSE
+Filename: canarypy-0.0.13.dist-info/LICENSE
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/METADATA
+Filename: canarypy-0.0.13.dist-info/METADATA
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/WHEEL
+Filename: canarypy-0.0.13.dist-info/WHEEL
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/entry_points.txt
+Filename: canarypy-0.0.13.dist-info/entry_points.txt
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/top_level.txt
+Filename: canarypy-0.0.13.dist-info/top_level.txt
 Comment: 
 
-Filename: canarypy-0.0.12.dist-info/RECORD
+Filename: canarypy-0.0.13.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## canarypy/api/services/release.py

```diff
@@ -265,15 +265,17 @@
         product = (
             self.db_session.query(Product)
             .filter(Product.artifact_url == release.artifact_url)
             .one_or_none()
         )
         latest_active = self.get_latest_active_release(product.name)
         latest_canary = self.get_latest_canary_release(product.name)
-        if latest_canary and self.is_canary_performance_good(latest_canary):
+        if not latest_active and latest_canary:
+            self.finish_canary_release(latest_canary, latest_active, False)
+        elif latest_canary and self.is_canary_performance_good(latest_canary):
             self.finish_canary_release(latest_canary, latest_active, True)
         elif latest_canary and not self.is_canary_performance_good(latest_canary):
             self.finish_canary_release(latest_canary, latest_active, False)
         new_release = Release(
             product_id=product.id,
             semver_version=release.semver_version,
             is_canary=release.is_canary,
```

## canarypy/cli/main.py

```diff
@@ -46,16 +46,16 @@
 
 @cli.group()
 def release():
     pass
 
 
 @release.command()
-@click.option("--semver_version")
-@click.option("--artifact_url")
+@click.option("--semver-version")
+@click.option("--artifact-url")
 def create(artifact_url, semver_version):
     release_service = ReleaseService(base_url=os.getenv("CANARYPY_URL"))
     response = release_service.add_release(
         release={"artifact_url": artifact_url, "semver_version": semver_version}
     )
     print(response.text)
 
@@ -64,17 +64,17 @@
 def signal():
     pass
 
 
 @signal.command()
 @click.option("--status")
 @click.option("--description")
-@click.option("--instance_id")
-@click.option("--semver_version")
-@click.option("--artifact_url")
+@click.option("--instance-id")
+@click.option("--semver-version")
+@click.option("--artifact-url")
 def create(artifact_url, semver_version, instance_id, description, status):
     release_service = SignalService(base_url=os.getenv("CANARYPY_URL"))
     response = release_service.add_signal(
         signal={
             "artifact_url": artifact_url,
             "semver_version": semver_version,
             "instance_id": instance_id,
```

## Comparing `canarypy-0.0.12.dist-info/LICENSE` & `canarypy-0.0.13.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `canarypy-0.0.12.dist-info/METADATA` & `canarypy-0.0.13.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: canarypy
-Version: 0.0.12
+Version: 0.0.13
 Summary: CanaryPy - A light and powerful canary release for Data Pipelines
 Home-page: https://github.com/thcidale0808/canarypy
 Author: Thiago Assumpcao
 Author-email: thcidale@gmail.com
 License: UNKNOWN
 Project-URL: Bug Reports, https://github.com/thcidale0808/canarypy/issues
 Project-URL: Source, https://github.com/thcidale0808/canarypy/
@@ -76,15 +76,15 @@
 `canapyry product create`
 
 This will prompt the user to enter the details of the product, and will create the product in the system.
 
 #### Releases
 Releases are the second step in the CanaryPy system. A release is a version of a product that is being released using the CanaryPy system. The CLI provides the following commands to manage releases:
 
-`canarypy release create --semver-version <semver> --artifact-url <product>`
+`canarypy release create --semver_version <semver> --artifact_url <product>`
 
 This will create a new release for a product. The semver version and the artifact URL are required parameters.
 
 it's possible to fetch the latest stable release of a product using the python client as shown below:
 
 ```python
 from canarypy.client import CanaryPyClient
```

### html2text {}

```diff
@@ -1,8 +1,8 @@
-Metadata-Version: 2.1 Name: canarypy Version: 0.0.12 Summary: CanaryPy - A
+Metadata-Version: 2.1 Name: canarypy Version: 0.0.13 Summary: CanaryPy - A
 light and powerful canary release for Data Pipelines Home-page: https://
 github.com/thcidale0808/canarypy Author: Thiago Assumpcao Author-email:
 thcidale@gmail.com License: UNKNOWN Project-URL: Bug Reports, https://
 github.com/thcidale0808/canarypy/issues Project-URL: Source, https://
 github.com/thcidale0808/canarypy/ Platform: UNKNOWN Classifier: Development
 Status :: 3 - Alpha Classifier: Intended Audience :: Developers Classifier:
 Topic :: Software Development :: Build Tools Classifier: License :: OSI
@@ -41,15 +41,15 @@
 step in the CanaryPy system. A product is a software application that is being
 released using the CanaryPy system. The CLI provides the following commands to
 manage products: `canapyry product create` This will prompt the user to enter
 the details of the product, and will create the product in the system. ####
 Releases Releases are the second step in the CanaryPy system. A release is a
 version of a product that is being released using the CanaryPy system. The CLI
 provides the following commands to manage releases: `canarypy release create --
-semver-version  --artifact-url ` This will create a new release for a product.
+semver_version  --artifact_url ` This will create a new release for a product.
 The semver version and the artifact URL are required parameters. it's possible
 to fetch the latest stable release of a product using the python client as
 shown below: ```python from canarypy.client import CanaryPyClient client =
 CanaryPyClient(base_url="http://localhost:8000")
 client.get_latest_stable_version(product_name) ``` #### Signals Signals are the
 third step in the CanaryPy system. A signal is the result of an execution of a
 product with a release. The CLI provides the following commands to manage
```

## Comparing `canarypy-0.0.12.dist-info/RECORD` & `canarypy-0.0.13.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -19,27 +19,27 @@
 canarypy/api/schemas/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/api/schemas/httperror.py,sha256=_C63MSp8cttj96QrZWs-ZeZOuprHSQ1oPolbJO6MeH0,77
 canarypy/api/schemas/product.py,sha256=xkmLFb7Zzr9QLA6Z_Hf1abCdZxjI7av6EqVao_iqjxo,249
 canarypy/api/schemas/release.py,sha256=uruBClfNJcR8LJP7B5x7vTZ9yZHty7XnF-dwz-7ADnw,764
 canarypy/api/schemas/signal.py,sha256=r-OjzB0QXdigrpJpAR1swFbb9_Aet5sGnwBVdX6oSog,292
 canarypy/api/services/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/api/services/product.py,sha256=29hwVly0KS_ea4dbQ3DWLR2YBgR0DxiDWSbDKGnAsF0,1592
-canarypy/api/services/release.py,sha256=OaFxsHn9n2CxBsh9HacLiCimV7KqAfKB4IUyLJ7gVA4,10088
+canarypy/api/services/release.py,sha256=FzrNxh1D5fozCsE4tITUmzcn-0faJxbmuz0L_PfnP5I,10214
 canarypy/api/services/signal.py,sha256=VGuaHr97vY3Wd5uuM07oJdrgWVKgTON1zRSgOHioi8Y,3680
 canarypy/cli/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-canarypy/cli/main.py,sha256=W1HFvTNuJHSIh09rDclXq6RzuKQDyfKCvvrtZajpn_8,2708
+canarypy/cli/main.py,sha256=yaVK5cZb31q8G4QtHJo-TAzj--i_eOvSDKgmoFOxGSE,2708
 canarypy/cli/services/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/cli/services/product.py,sha256=VZuIsqaVSRveYLYXSGllm57M2CScQPm9bdl0a34UbWg,1047
 canarypy/cli/services/release.py,sha256=7NRlfaeZKVus2hrZeuAFh_Qj-N23HgCW1mHhalaRNxg,1557
 canarypy/cli/services/signal.py,sha256=dkIg_5fp_SxbgNwFORlYasj44-zzpAveJ-z6zkXR5X4,875
 canarypy/web/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/web/app.py,sha256=zSdoLScyF38D_d1ScPftiNpT2EbSGqls_73sjKe4bFU,485
 canarypy/web/services/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/web/services/release.py,sha256=wiUakgsPYMlQYuTGn8H-MNU0OodqZO4QT7wakT3m6ZI,2479
 canarypy/web/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 canarypy/web/views/release.py,sha256=64KnzfEorXgI2r_iYt-VDQZAJu8p0mXDW5jwmPiHiYI,6145
-canarypy-0.0.12.dist-info/LICENSE,sha256=SFzvkXWlH5kBzg2g2zPfzVVWCxiUzSFZbsV-WK2LIms,1073
-canarypy-0.0.12.dist-info/METADATA,sha256=svK8RepAYmjhi3E9PvxjVkPxc23Ws6ssrOc-hgm0CuE,9507
-canarypy-0.0.12.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-canarypy-0.0.12.dist-info/entry_points.txt,sha256=p0kWki_tFjwHl_FrcslSgRDSzGb84UXOOmIolqzfl0c,70
-canarypy-0.0.12.dist-info/top_level.txt,sha256=nJmlRvDc2WydeXY67xTbSGlksVT832WG8xRrhO5aiHE,9
-canarypy-0.0.12.dist-info/RECORD,,
+canarypy-0.0.13.dist-info/LICENSE,sha256=SFzvkXWlH5kBzg2g2zPfzVVWCxiUzSFZbsV-WK2LIms,1073
+canarypy-0.0.13.dist-info/METADATA,sha256=wiMKd8QxnLr8tugFv482EoKHyJYdNUZPnDueoweyMOw,9507
+canarypy-0.0.13.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+canarypy-0.0.13.dist-info/entry_points.txt,sha256=p0kWki_tFjwHl_FrcslSgRDSzGb84UXOOmIolqzfl0c,70
+canarypy-0.0.13.dist-info/top_level.txt,sha256=nJmlRvDc2WydeXY67xTbSGlksVT832WG8xRrhO5aiHE,9
+canarypy-0.0.13.dist-info/RECORD,,
```

