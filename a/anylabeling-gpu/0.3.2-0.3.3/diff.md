# Comparing `tmp/anylabeling_gpu-0.3.2-py3-none-any.whl.zip` & `tmp/anylabeling_gpu-0.3.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,60 +1,60 @@
-Zip file size: 3626552 bytes, number of entries: 58
--rw-r--r--  2.0 unx       67 b- defN 23-Jun-29 01:14 anylabeling/__init__.py
--rw-r--r--  2.0 unx     6675 b- defN 23-Jun-29 01:14 anylabeling/app.py
--rw-r--r--  2.0 unx      157 b- defN 23-Jun-29 01:14 anylabeling/app_info.py
--rw-r--r--  2.0 unx     3004 b- defN 23-Jun-29 01:14 anylabeling/config.py
--rw-r--r--  2.0 unx      379 b- defN 23-Jun-29 01:14 anylabeling/utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/configs/__init__.py
--rw-r--r--  2.0 unx     2314 b- defN 23-Jun-29 01:14 anylabeling/configs/anylabeling_config.yaml
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/configs/auto_labeling/__init__.py
--rw-r--r--  2.0 unx     2971 b- defN 23-Jun-29 01:14 anylabeling/configs/auto_labeling/models.yaml
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/resources/__init__.py
--rw-r--r--  2.0 unx  9961730 b- defN 23-Jun-29 01:14 anylabeling/resources/resources.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/services/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/__init__.py
--rw-r--r--  2.0 unx     1029 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/lru_cache.py
--rw-r--r--  2.0 unx     4818 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/model.py
--rw-r--r--  2.0 unx    20431 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/model_manager.py
--rw-r--r--  2.0 unx     6986 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/sam_onnx.py
--rw-r--r--  2.0 unx     9630 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/segment_anything.py
--rw-r--r--  2.0 unx     1335 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/types.py
--rw-r--r--  2.0 unx     5767 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/yolov5.py
--rw-r--r--  2.0 unx     5527 b- defN 23-Jun-29 01:14 anylabeling/services/auto_labeling/yolov8.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/views/__init__.py
--rw-r--r--  2.0 unx     1263 b- defN 23-Jun-29 01:14 anylabeling/views/mainwindow.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/views/common/__init__.py
--rw-r--r--  2.0 unx     9530 b- defN 23-Jun-29 01:14 anylabeling/views/common/toaster.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/__init__.py
--rw-r--r--  2.0 unx     5995 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/label_file.py
--rw-r--r--  2.0 unx    97932 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/label_widget.py
--rw-r--r--  2.0 unx      931 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/label_wrapper.py
--rw-r--r--  2.0 unx     1714 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/logger.py
--rw-r--r--  2.0 unx    10828 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/shape.py
--rw-r--r--  2.0 unx      870 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/testing.py
--rw-r--r--  2.0 unx      497 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/__init__.py
--rw-r--r--  2.0 unx      668 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/_io.py
--rw-r--r--  2.0 unx     2339 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/image.py
--rw-r--r--  2.0 unx     1329 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/opencv.py
--rw-r--r--  2.0 unx     2405 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/qt.py
--rw-r--r--  2.0 unx     3001 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/utils/shape.py
--rw-r--r--  2.0 unx      492 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/__init__.py
--rw-r--r--  2.0 unx     1679 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/brightness_contrast_dialog.py
--rw-r--r--  2.0 unx    48911 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/canvas.py
--rw-r--r--  2.0 unx     1204 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/color_dialog.py
--rw-r--r--  2.0 unx      301 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/escapable_qlist_widget.py
--rw-r--r--  2.0 unx     2429 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/file_dialog_preview.py
--rw-r--r--  2.0 unx     8353 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/label_dialog.py
--rw-r--r--  2.0 unx     5790 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/label_list_widget.py
--rw-r--r--  2.0 unx     1394 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/toolbar.py
--rw-r--r--  2.0 unx     1260 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/unique_label_qlist_widget.py
--rw-r--r--  2.0 unx      788 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/zoom_widget.py
--rw-r--r--  2.0 unx       29 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/auto_labeling/__init__.py
--rw-r--r--  2.0 unx    10796 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py
--rw-r--r--  2.0 unx     5302 b- defN 23-Jun-29 01:14 anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui
--rw-r--r--  2.0 unx    35149 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/LICENSE
--rw-r--r--  2.0 unx     5244 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/WHEEL
--rw-r--r--  2.0 unx       53 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       12 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     5671 b- defN 23-Jun-29 01:14 anylabeling_gpu-0.3.2.dist-info/RECORD
-58 files, 10307071 bytes uncompressed, 3617216 bytes compressed:  64.9%
+Zip file size: 3626903 bytes, number of entries: 58
+-rw-r--r--  2.0 unx       67 b- defN 23-Jul-02 04:00 anylabeling/__init__.py
+-rw-r--r--  2.0 unx     6675 b- defN 23-Jul-02 04:00 anylabeling/app.py
+-rw-r--r--  2.0 unx      157 b- defN 23-Jul-02 04:00 anylabeling/app_info.py
+-rw-r--r--  2.0 unx     3004 b- defN 23-Jul-02 04:00 anylabeling/config.py
+-rw-r--r--  2.0 unx      379 b- defN 23-Jul-02 04:00 anylabeling/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/configs/__init__.py
+-rw-r--r--  2.0 unx     2314 b- defN 23-Jul-02 04:00 anylabeling/configs/anylabeling_config.yaml
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/configs/auto_labeling/__init__.py
+-rw-r--r--  2.0 unx     2971 b- defN 23-Jul-02 04:00 anylabeling/configs/auto_labeling/models.yaml
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/resources/__init__.py
+-rw-r--r--  2.0 unx  9961730 b- defN 23-Jul-02 04:00 anylabeling/resources/resources.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/services/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/__init__.py
+-rw-r--r--  2.0 unx     1029 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/lru_cache.py
+-rw-r--r--  2.0 unx     4818 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/model.py
+-rw-r--r--  2.0 unx    20431 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/model_manager.py
+-rw-r--r--  2.0 unx     6986 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/sam_onnx.py
+-rw-r--r--  2.0 unx    10088 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/segment_anything.py
+-rw-r--r--  2.0 unx     1335 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/types.py
+-rw-r--r--  2.0 unx     5767 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/yolov5.py
+-rw-r--r--  2.0 unx     5527 b- defN 23-Jul-02 04:00 anylabeling/services/auto_labeling/yolov8.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/views/__init__.py
+-rw-r--r--  2.0 unx     1263 b- defN 23-Jul-02 04:00 anylabeling/views/mainwindow.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/views/common/__init__.py
+-rw-r--r--  2.0 unx     9530 b- defN 23-Jul-02 04:00 anylabeling/views/common/toaster.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/__init__.py
+-rw-r--r--  2.0 unx     5995 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/label_file.py
+-rw-r--r--  2.0 unx    98002 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/label_widget.py
+-rw-r--r--  2.0 unx      931 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/label_wrapper.py
+-rw-r--r--  2.0 unx     1714 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/logger.py
+-rw-r--r--  2.0 unx    10828 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/shape.py
+-rw-r--r--  2.0 unx      870 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/testing.py
+-rw-r--r--  2.0 unx      497 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/__init__.py
+-rw-r--r--  2.0 unx      668 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/_io.py
+-rw-r--r--  2.0 unx     2339 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/image.py
+-rw-r--r--  2.0 unx     1329 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/opencv.py
+-rw-r--r--  2.0 unx     2405 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/qt.py
+-rw-r--r--  2.0 unx     3001 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/utils/shape.py
+-rw-r--r--  2.0 unx      492 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/__init__.py
+-rw-r--r--  2.0 unx     1679 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/brightness_contrast_dialog.py
+-rw-r--r--  2.0 unx    48911 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/canvas.py
+-rw-r--r--  2.0 unx     1204 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/color_dialog.py
+-rw-r--r--  2.0 unx      301 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/escapable_qlist_widget.py
+-rw-r--r--  2.0 unx     2429 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/file_dialog_preview.py
+-rw-r--r--  2.0 unx     8353 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/label_dialog.py
+-rw-r--r--  2.0 unx     5790 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/label_list_widget.py
+-rw-r--r--  2.0 unx     1822 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/toolbar.py
+-rw-r--r--  2.0 unx     1260 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/unique_label_qlist_widget.py
+-rw-r--r--  2.0 unx      788 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/zoom_widget.py
+-rw-r--r--  2.0 unx       29 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/auto_labeling/__init__.py
+-rw-r--r--  2.0 unx    11660 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py
+-rw-r--r--  2.0 unx     5289 b- defN 23-Jul-02 04:00 anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui
+-rw-r--r--  2.0 unx    35149 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/LICENSE
+-rw-r--r--  2.0 unx     5280 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       53 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       12 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     5672 b- defN 23-Jul-02 04:00 anylabeling_gpu-0.3.3.dist-info/RECORD
+58 files, 10308915 bytes uncompressed, 3617567 bytes compressed:  64.9%
```

## zipnote {}

```diff
@@ -150,26 +150,26 @@
 
 Filename: anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py
 Comment: 
 
 Filename: anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/LICENSE
+Filename: anylabeling_gpu-0.3.3.dist-info/LICENSE
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/METADATA
+Filename: anylabeling_gpu-0.3.3.dist-info/METADATA
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/WHEEL
+Filename: anylabeling_gpu-0.3.3.dist-info/WHEEL
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/entry_points.txt
+Filename: anylabeling_gpu-0.3.3.dist-info/entry_points.txt
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/top_level.txt
+Filename: anylabeling_gpu-0.3.3.dist-info/top_level.txt
 Comment: 
 
-Filename: anylabeling_gpu-0.3.2.dist-info/RECORD
+Filename: anylabeling_gpu-0.3.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## anylabeling/app_info.py

```diff
@@ -1,4 +1,4 @@
 __appname__ = "AnyLabeling"
 __appdescription__ = "Effortless data labeling with AI support"
-__version__ = "0.3.2"
+__version__ = "0.3.3"
 __preferred_device__ = "GPU"  # GPU or CPU
```

## anylabeling/services/auto_labeling/segment_anything.py

```diff
@@ -101,26 +101,39 @@
         self.marks = marks
 
     def post_process(self, masks):
         """
         Post process masks
         """
         # Find contours
+        masks[masks > 0.0] = 255
+        masks[masks <= 0.0] = 0
+        masks = masks.astype(np.uint8)
         contours, _ = cv2.findContours(
-            masks.astype(np.uint8), cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE
+            masks, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE
         )
 
         # Refine contours
         approx_contours = []
         for contour in contours:
             # Approximate contour
             epsilon = 0.001 * cv2.arcLength(contour, True)
             approx = cv2.approxPolyDP(contour, epsilon, True)
             approx_contours.append(approx)
 
+        # Remove too big contours ( >90% of image size)
+        if len(approx_contours) > 1:
+            image_size = masks.shape[0] * masks.shape[1]
+            areas = [cv2.contourArea(contour) for contour in approx_contours]
+            filtered_approx_contours = [
+                contour
+                for contour, area in zip(approx_contours, areas)
+                if area < image_size * 0.9
+            ]
+
         # Remove small contours (area < 20% of average area)
         if len(approx_contours) > 1:
             areas = [cv2.contourArea(contour) for contour in approx_contours]
             avg_area = np.mean(areas)
 
             filtered_approx_contours = [
                 contour
@@ -231,15 +244,14 @@
         result = AutoLabelingResult(shapes, replace=False)
         return result
 
     def unload(self):
         self.stop_inference = True
         if self.pre_inference_thread:
             self.pre_inference_thread.quit()
-            self.pre_inference_thread.wait()
 
     def preload_worker(self, files):
         """
         Preload next files, run inference and cache results
         """
         files = files[: self.preloaded_size]
         for filename in files:
```

## anylabeling/views/labeling/label_widget.py

```diff
@@ -2,14 +2,15 @@
 import html
 import math
 import os
 import os.path as osp
 import re
 import webbrowser
 
+import darkdetect
 import imgviz
 import natsort
 from PyQt5 import QtCore, QtGui, QtWidgets
 from PyQt5.QtCore import Qt, pyqtSlot
 from PyQt5.QtWidgets import (
     QDockWidget,
     QHBoxLayout,
@@ -120,14 +121,31 @@
             fit_to_content=self._config["fit_to_content"],
             flags=self._config["label_flags"],
         )
 
         self.label_list = LabelListWidget()
         self.last_open_dir = None
 
+        if not darkdetect.isDark():
+            dock_title_style = (
+                "QDockWidget::title {"
+                "text-align: center;"
+                "padding: 0px;"
+                "background-color: #f0f0f0;"
+                "}"
+            )
+        else:
+            dock_title_style = (
+                "QDockWidget::title {"
+                "text-align: center;"
+                "padding: 0px;"
+                "background-color: #333333;"
+                "}"
+            )
+
         self.flag_dock = self.flag_widget = None
         self.flag_dock = QtWidgets.QDockWidget(self.tr("Flags"), self)
         self.flag_dock.setObjectName("Flags")
         self.flag_widget = QtWidgets.QListWidget()
         if config["flags"]:
             self.load_flags({k: False for k in config["flags"]})
         else:
@@ -147,21 +165,15 @@
         )
         self.label_list.item_double_clicked.connect(self.edit_label)
         self.label_list.item_changed.connect(self.label_item_changed)
         self.label_list.item_dropped.connect(self.label_order_changed)
         self.shape_dock = QtWidgets.QDockWidget(self.tr("Objects"), self)
         self.shape_dock.setObjectName("Objects")
         self.shape_dock.setWidget(self.label_list)
-        self.shape_dock.setStyleSheet(
-            "QDockWidget::title {"
-            "text-align: center;"
-            "padding: 0px;"
-            "background-color: #f0f0f0;"
-            "}"
-        )
+        self.shape_dock.setStyleSheet(dock_title_style)
 
         self.unique_label_list = UniqueLabelQListWidget()
         self.unique_label_list.setToolTip(
             self.tr(
                 "Select label to start annotating for it. "
                 "Press 'Esc' to deselect."
             )
@@ -171,21 +183,15 @@
                 item = self.unique_label_list.create_item_from_label(label)
                 self.unique_label_list.addItem(item)
                 rgb = self._get_rgb_by_label(label)
                 self.unique_label_list.set_item_label(item, label, rgb)
         self.label_dock = QtWidgets.QDockWidget(self.tr("Labels"), self)
         self.label_dock.setObjectName("Labels")
         self.label_dock.setWidget(self.unique_label_list)
-        self.label_dock.setStyleSheet(
-            "QDockWidget::title {"
-            "text-align: center;"
-            "padding: 0px;"
-            "background-color: #f0f0f0;"
-            "}"
-        )
+        self.label_dock.setStyleSheet(dock_title_style)
 
         self.file_search = QtWidgets.QLineEdit()
         self.file_search.setPlaceholderText(self.tr("Search Filename"))
         self.file_search.textChanged.connect(self.file_search_changed)
         self.file_list_widget = QtWidgets.QListWidget()
         self.file_list_widget.itemSelectionChanged.connect(
             self.file_selection_changed
@@ -196,21 +202,15 @@
         file_list_layout.addWidget(self.file_search)
         file_list_layout.addWidget(self.file_list_widget)
         self.file_dock = QtWidgets.QDockWidget(self.tr("Files"), self)
         self.file_dock.setObjectName("Files")
         file_list_widget = QtWidgets.QWidget()
         file_list_widget.setLayout(file_list_layout)
         self.file_dock.setWidget(file_list_widget)
-        self.file_dock.setStyleSheet(
-            "QDockWidget::title {"
-            "text-align: center;"
-            "padding: 0px;"
-            "background-color: #f0f0f0;"
-            "}"
-        )
+        self.file_dock.setStyleSheet(dock_title_style)
 
         self.zoom_widget = ZoomWidget()
         self.setAcceptDrops(True)
 
         self.canvas = self.label_list.canvas = Canvas(
             parent=self,
             epsilon=self._config["epsilon"],
```

## anylabeling/views/labeling/widgets/toolbar.py

```diff
@@ -1,9 +1,10 @@
 """Defines toolbar for anylabeling, including """
 
+import darkdetect
 from PyQt5 import QtCore, QtWidgets
 
 
 class ToolBar(QtWidgets.QToolBar):
     """Toolbar widget for labeling tool"""
 
     def __init__(self, title):
@@ -11,25 +12,38 @@
         layout = self.layout()
         margin = (0, 0, 0, 0)
         layout.setSpacing(0)
         layout.setContentsMargins(*margin)
         self.setContentsMargins(*margin)
         self.setWindowFlags(self.windowFlags() | QtCore.Qt.FramelessWindowHint)
 
-        self.setStyleSheet(
-            """
-            QToolBar {
-                background: #fff;
-                padding: 0px;
-                border: 0px;
-                border-radius: 5px;
-                border: 2px solid #aaa;
-            }
-            """
-        )
+        if darkdetect.isDark():
+            self.setStyleSheet(
+                """
+                QToolBar {
+                    background: #555;
+                    padding: 0px;
+                    border: 0px;
+                    border-radius: 5px;
+                    border: 2px solid #222;
+                }
+                """
+            )
+        else:
+            self.setStyleSheet(
+                """
+                QToolBar {
+                    background: #fff;
+                    padding: 0px;
+                    border: 0px;
+                    border-radius: 5px;
+                    border: 2px solid #aaa;
+                }
+                """
+            )
 
     def add_action(self, action):
         """Add an action (button) to the toolbar"""
         if isinstance(action, QtWidgets.QWidgetAction):
             return super().addAction(action)
         btn = QtWidgets.QToolButton()
         btn.setDefaultAction(action)
```

## anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py

```diff
@@ -1,9 +1,10 @@
 import os
 
+import darkdetect
 from PyQt5 import uic
 from PyQt5.QtCore import pyqtSignal, pyqtSlot
 from PyQt5.QtWidgets import QWidget, QFileDialog
 
 from anylabeling.services.auto_labeling.model_manager import ModelManager
 from anylabeling.services.auto_labeling.types import AutoLabelingMode
 
@@ -52,14 +53,31 @@
             lambda: self.model_manager.set_output_mode(
                 self.output_select_combobox.currentData()
             )
         )
 
         self.update_model_configs(self.model_manager.get_model_configs())
 
+        # Disable tools when inference is running
+        def set_enable_tools(enable):
+            self.model_select_combobox.setEnabled(enable)
+            self.output_select_combobox.setEnabled(enable)
+            self.button_add_point.setEnabled(enable)
+            self.button_remove_point.setEnabled(enable)
+            self.button_add_rect.setEnabled(enable)
+            self.button_clear.setEnabled(enable)
+            self.button_finish_object.setEnabled(enable)
+
+        self.model_manager.prediction_started.connect(
+            lambda: set_enable_tools(False)
+        )
+        self.model_manager.prediction_finished.connect(
+            lambda: set_enable_tools(True)
+        )
+
         # Auto labeling buttons
         self.button_run.setShortcut("I")
         self.button_run.clicked.connect(self.run_prediction)
         self.button_add_point.clicked.connect(
             lambda: self.set_auto_labeling_mode(
                 AutoLabelingMode.ADD, AutoLabelingMode.POINT
             )
@@ -124,40 +142,43 @@
         style_sheet = """
             text-align: center;
             margin-right: 3px;
             border-radius: 5px;
             padding: 4px 8px;
             border: 1px solid #999999;
         """
+        normal_color = "#333333" if darkdetect.isDark() else "#ffffff"
         for button in [
             self.button_add_point,
             self.button_remove_point,
             self.button_add_rect,
             self.button_clear,
             self.button_finish_object,
         ]:
-            button.setStyleSheet(style_sheet + "background-color: #ffffff;")
+            button.setStyleSheet(
+                style_sheet + f"background-color: {normal_color};"
+            )
         if self.auto_labeling_mode == AutoLabelingMode.NONE:
             return
         if self.auto_labeling_mode.edit_mode == AutoLabelingMode.ADD:
             if self.auto_labeling_mode.shape_type == AutoLabelingMode.POINT:
                 self.button_add_point.setStyleSheet(
-                    style_sheet + "background-color: #00ff00;"
+                    style_sheet + "background-color: #00c100; color: #555555;"
                 )
             elif (
                 self.auto_labeling_mode.shape_type
                 == AutoLabelingMode.RECTANGLE
             ):
                 self.button_add_rect.setStyleSheet(
-                    style_sheet + "background-color: #00ff00;"
+                    style_sheet + "background-color: #00c100; color: #555555;"
                 )
         elif self.auto_labeling_mode.edit_mode == AutoLabelingMode.REMOVE:
             if self.auto_labeling_mode.shape_type == AutoLabelingMode.POINT:
                 self.button_remove_point.setStyleSheet(
-                    style_sheet + "background-color: #ff0000;"
+                    style_sheet + "background-color: #d30000; color: #fff;"
                 )
 
     def set_auto_labeling_mode(self, edit_mode, shape_type=None):
         """Set auto labeling mode"""
         if edit_mode is None:
             self.auto_labeling_mode = AutoLabelingMode.NONE
         else:
```

## anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui

### anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui

```diff
@@ -187,16 +187,15 @@
             <sizepolicy hsizetype="Expanding" vsizetype="Minimum">
               <horstretch>0</horstretch>
               <verstretch>0</verstretch>
             </sizepolicy>
           </property>
           <property name="styleSheet">
             <string notr="true">margin-top: 0;
-margin-bottom: 10px;
-color: #456;</string>
+margin-bottom: 10px;</string>
           </property>
           <property name="text">
             <string>Ready!</string>
           </property>
         </widget>
       </item>
     </layout>
```

## Comparing `anylabeling_gpu-0.3.2.dist-info/LICENSE` & `anylabeling_gpu-0.3.3.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `anylabeling_gpu-0.3.2.dist-info/METADATA` & `anylabeling_gpu-0.3.3.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: anylabeling-gpu
-Version: 0.3.2
+Version: 0.3.3
 Summary: Effortless data labeling with AI support
 Home-page: https://github.com/vietanhdev/anylabeling
 Author: Viet-Anh Nguyen
 Author-email: vietanh.dev@gmail.com
 License: GPLv3
 Keywords: Image Annotation,Machine Learning,Deep Learning
 Classifier: Intended Audience :: Developers
@@ -23,14 +23,15 @@
 Requires-Dist: numpy
 Requires-Dist: Pillow (>=2.8)
 Requires-Dist: PyYAML
 Requires-Dist: termcolor
 Requires-Dist: opencv-python-headless
 Requires-Dist: onnx (==1.13.1)
 Requires-Dist: qimage2ndarray (==1.10.0)
+Requires-Dist: darkdetect (==0.8.0)
 Requires-Dist: onnxruntime-gpu (==1.14.1)
 Requires-Dist: PyQt5 (>=5.15.7) ; platform_system != "Darwin"
 
 <p align="center">
   <img alt="AnyLabeling" style="width: 128px; max-width: 100%; height: auto;" src="https://user-images.githubusercontent.com/18329471/232250539-2b15b9ee-5593-41d0-ba22-e0442f314cce.png"/>
   <h1 align="center">ðŸŒŸ AnyLabeling ðŸŒŸ</h1>
   <p align="center">Effortless data labeling with AI support from <b>YOLO</b> and <b>Segment Anything</b>!</p>
```

### html2text {}

```diff
@@ -1,23 +1,23 @@
-Metadata-Version: 2.1 Name: anylabeling-gpu Version: 0.3.2 Summary: Effortless
+Metadata-Version: 2.1 Name: anylabeling-gpu Version: 0.3.3 Summary: Effortless
 data labeling with AI support Home-page: https://github.com/vietanhdev/
 anylabeling Author: Viet-Anh Nguyen Author-email: vietanh.dev@gmail.com
 License: GPLv3 Keywords: Image Annotation,Machine Learning,Deep Learning
 Classifier: Intended Audience :: Developers Classifier: Intended Audience ::
 Science/Research Classifier: Natural Language :: English Classifier: Operating
 System :: OS Independent Classifier: Programming Language :: Python Classifier:
 Programming Language :: Python :: 3.8 Classifier: Programming Language ::
 Python :: 3.9 Classifier: Programming Language :: Python :: 3.10 Classifier:
 Programming Language :: Python :: 3 :: Only Description-Content-Type: text/
 markdown License-File: LICENSE Requires-Dist: imgviz (>=0.11) Requires-Dist:
 natsort (>=7.1.0) Requires-Dist: numpy Requires-Dist: Pillow (>=2.8) Requires-
 Dist: PyYAML Requires-Dist: termcolor Requires-Dist: opencv-python-headless
 Requires-Dist: onnx (==1.13.1) Requires-Dist: qimage2ndarray (==1.10.0)
-Requires-Dist: onnxruntime-gpu (==1.14.1) Requires-Dist: PyQt5 (>=5.15.7) ;
-platform_system != "Darwin"
+Requires-Dist: darkdetect (==0.8.0) Requires-Dist: onnxruntime-gpu (==1.14.1)
+Requires-Dist: PyQt5 (>=5.15.7) ; platform_system != "Darwin"
                                  [AnyLabeling]
                       ****** Ã°ÂŸÂŒÂŸ AnyLabeling Ã°ÂŸÂŒÂŸ ******
    Effortless data labeling with AI support from YOLO and Segment Anything!
         AnyLabeling = LabelImg + Labelme + Improved UI + Auto-labeling
 ![](https://user-images.githubusercontent.com/18329471/234640541-a6a65fbc-d7a5-
 4ec3-9b65-55305b01a7aa.png) [![PyPI](https://img.shields.io/pypi/v/
 anylabeling)](https://pypi.org/project/anylabeling) [![license](https://
```

## Comparing `anylabeling_gpu-0.3.2.dist-info/RECORD` & `anylabeling_gpu-0.3.3.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,35 +1,35 @@
 anylabeling/__init__.py,sha256=dbjF0qpgjzE06LOc66oMxqa5UaFEYkjOdYh3Q_sSzjg,67
 anylabeling/app.py,sha256=cQe4khOqL01_9fRgc2kwAFQNF64mkQm_NAz3nqP8A9E,6675
-anylabeling/app_info.py,sha256=X6bpDjNYWwttPJOpEFJKchW34osJ2gDrBFiod9sH7Mc,157
+anylabeling/app_info.py,sha256=u9pDc-NqGGxIOvSjR6wzXjPczg1TI_9oewhFCBg9BeQ,157
 anylabeling/config.py,sha256=jqpxFmpTa7V05dQB4yiAY1Az01rA5fdcL2hXZQNk1uY,3004
 anylabeling/utils.py,sha256=JPaLhSyMTRVFuZq5DlRfoqt_iRra02WbtsnPEpFboiE,379
 anylabeling/configs/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/configs/anylabeling_config.yaml,sha256=YB1lYkaoDoNJUIEf2WqhwCpJI8VEQ2QTrkL_1gtA6Dk,2314
 anylabeling/configs/auto_labeling/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/configs/auto_labeling/models.yaml,sha256=U1wyIG9Tt79Dw9wsud6Qu1XI2bzBlpOJ8OaU_Y36Xpo,2971
 anylabeling/resources/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/resources/resources.py,sha256=unm67QAiyvYdjHpRVSOl8zvB0ZdvmeMvxxLWQ2ykkUw,9961730
 anylabeling/services/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/services/auto_labeling/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/services/auto_labeling/lru_cache.py,sha256=GA7sMpPncfWEPzgu6c7wqb-MwW9keKvEEsH0-fp9Jdc,1029
 anylabeling/services/auto_labeling/model.py,sha256=kJAuqeNlbiPQOxmAVDsTio-LsBUrG7RdvsSB8KZuYFk,4818
 anylabeling/services/auto_labeling/model_manager.py,sha256=vL0FxxY3rr63UpOx-04P0uezLDNQDY2AVfTp_sZt0lQ,20431
 anylabeling/services/auto_labeling/sam_onnx.py,sha256=FQmE6rM2yJGnTswyPShgMhM3JQpT3nwpDxlxwyNZjvc,6986
-anylabeling/services/auto_labeling/segment_anything.py,sha256=Z-i2mfkYQL2LaXrlvbRP_VTTBox7J-qiI6rxnDGFNTs,9630
+anylabeling/services/auto_labeling/segment_anything.py,sha256=tT5FbWcbnP37ZmuYuDkPR6jZjWbnjvfcc3tmTMkVypc,10088
 anylabeling/services/auto_labeling/types.py,sha256=_kJ2elTXEJSiJYJUmTrOsqvZ2pay2BIL17TI-jsH0lA,1335
 anylabeling/services/auto_labeling/yolov5.py,sha256=utFXyzJ6BeAlsxtA_cKPFlacx95XYg8XbEtaqCAwN20,5767
 anylabeling/services/auto_labeling/yolov8.py,sha256=F4nTdP_Z22Y_TFKHocjlRi38uPewUAnHcVAkoiI26sk,5527
 anylabeling/views/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/views/mainwindow.py,sha256=1I69SeAVGkowZm9QN02Kzh48uIIlsr41UQ_RTdUrQ30,1263
 anylabeling/views/common/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/views/common/toaster.py,sha256=j-7cvV7FqqjLbuUgpqvpSrnSnq43qZ_FW-PhcpbZ0Z0,9530
 anylabeling/views/labeling/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 anylabeling/views/labeling/label_file.py,sha256=5yI4-VjY_jeY-svabl9cc8cGGQG6UWYAC4SypjvMjes,5995
-anylabeling/views/labeling/label_widget.py,sha256=uStv58JJfEyqgb6IkS_GxebbveOuFqRdjpvhrs4XobU,97932
+anylabeling/views/labeling/label_widget.py,sha256=PTO09XRXn7Do07S5ykzkImpfxF06x-uxkfFGOhFsZZY,98002
 anylabeling/views/labeling/label_wrapper.py,sha256=fVA9t-7kesRObBTyq3HRn8jzJkaAFk6bAXXaUG0xDL8,931
 anylabeling/views/labeling/logger.py,sha256=2x7mOXSFr3wHNt-Xd1fgvU40ub39TQ9dsSdS2za1vx4,1714
 anylabeling/views/labeling/shape.py,sha256=UIU_JvlrMBwycWx2NaaIc1Y0zbrNvgBIzjeeMqGnyxY,10828
 anylabeling/views/labeling/testing.py,sha256=b4YhrOI9XHGDB7f0WO-FwRNaiVgUgLElAMppXLllTPE,870
 anylabeling/views/labeling/utils/__init__.py,sha256=_dAG1zyS28N_3ehLgBqOtvYzP0ZuVT-7MI6FHkWrK-8,497
 anylabeling/views/labeling/utils/_io.py,sha256=czRlBVBq9N0K9hJD_yXzeXsY8L7UdS3Cyk7L06pLnTY,668
 anylabeling/views/labeling/utils/image.py,sha256=GQURvLNnUGzOX4wRlGVKVZ66kdYqLXwUXYL5y9ZuFZk,2339
@@ -40,19 +40,19 @@
 anylabeling/views/labeling/widgets/brightness_contrast_dialog.py,sha256=MwOdLI-2NlhXSYSV-nbfhLua5LdAZ78GR_Q8rMeljo4,1679
 anylabeling/views/labeling/widgets/canvas.py,sha256=0WB8x7tWneBBkKL8KUdg_y2rxu82lc81uvL2gLbIr98,48911
 anylabeling/views/labeling/widgets/color_dialog.py,sha256=gWEmB9bbQMVgNKAbxL-U6bbOXkH76rpS9vJGiEMILEQ,1204
 anylabeling/views/labeling/widgets/escapable_qlist_widget.py,sha256=Y4KbAIYTqcvaD20xDPDyZyDeCcZuanlPNU_o8dHAkMQ,301
 anylabeling/views/labeling/widgets/file_dialog_preview.py,sha256=m_8roCQQJAfPl32LQ7_C5Oh8r-YCoEO1Qdn4zS0MJro,2429
 anylabeling/views/labeling/widgets/label_dialog.py,sha256=cV3KPxIoK5sJABUBJe1pwovBrjsxWRj0s3s0IcJGxAw,8353
 anylabeling/views/labeling/widgets/label_list_widget.py,sha256=E3T0weDUTXtZyeYdI89nyHg-CoqLchfxjC6uMCY0DLg,5790
-anylabeling/views/labeling/widgets/toolbar.py,sha256=njs_kb50K-_RNdkgs8JIDkUmshFiUHAXHFT_63bSSP4,1394
+anylabeling/views/labeling/widgets/toolbar.py,sha256=1g9WJBeLNfz_e5wa3GWAYM00K6Lfs5YJEjZe-TLEiQ8,1822
 anylabeling/views/labeling/widgets/unique_label_qlist_widget.py,sha256=DAHDY7eF_5FRLHt-XokJbiYWEHXxmI3-HMeHQ2Iu8R8,1260
 anylabeling/views/labeling/widgets/zoom_widget.py,sha256=oqK1z4GEXU0qv2NhcHYo2UmWt_kScV9QpzbQMMcklVI,788
 anylabeling/views/labeling/widgets/auto_labeling/__init__.py,sha256=xXutBLj46Oc4NHPchBmpL_p4CLtHSK8-9gKQwdlJdhM,29
-anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py,sha256=ZaJ76qJ3Y5nBBTYplJJPRueiVYaVtk7Am5p8ZSVZZTo,10796
-anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui,sha256=Om8ilqiF9Y1S3eu1kqedvmdU6hJI3YGuAPkIsVdgZso,5302
-anylabeling_gpu-0.3.2.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-anylabeling_gpu-0.3.2.dist-info/METADATA,sha256=mvWYpdsXXBucpp_TXmDGa3qb61cNkPbkNTDhy2XgUyo,5244
-anylabeling_gpu-0.3.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-anylabeling_gpu-0.3.2.dist-info/entry_points.txt,sha256=-BZh3zoKgTKLki1ybCknD-E8rlz71I_bxBcnkpLcA3M,53
-anylabeling_gpu-0.3.2.dist-info/top_level.txt,sha256=HwA6XtoVLw3SY7O5aZ9y7sDOkiv6x-pxDLyJLEVjg0A,12
-anylabeling_gpu-0.3.2.dist-info/RECORD,,
+anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.py,sha256=qMe5h9xMSsAgbL4Tyy8e4-07SgJgGZIrb3ZGbUbK3V4,11660
+anylabeling/views/labeling/widgets/auto_labeling/auto_labeling.ui,sha256=jCAfTsthhfbkdXqoE2tDtQSIcfq05lhw_VQPb3vAfKw,5289
+anylabeling_gpu-0.3.3.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+anylabeling_gpu-0.3.3.dist-info/METADATA,sha256=j49A6gtQ-F9_l1JgjbPZ6JCpwYIM4wkeAIFutymCy88,5280
+anylabeling_gpu-0.3.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+anylabeling_gpu-0.3.3.dist-info/entry_points.txt,sha256=-BZh3zoKgTKLki1ybCknD-E8rlz71I_bxBcnkpLcA3M,53
+anylabeling_gpu-0.3.3.dist-info/top_level.txt,sha256=HwA6XtoVLw3SY7O5aZ9y7sDOkiv6x-pxDLyJLEVjg0A,12
+anylabeling_gpu-0.3.3.dist-info/RECORD,,
```

